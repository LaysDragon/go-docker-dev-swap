#############################################
# Docker Dev Swap 多組配置範例（精簡版）
# -----------------------------------------
# 複製為 config.yaml 並依實際環境調整
#############################################

# 全域預設值（可被 component 覆蓋）
log_file: ""
initial_scripts: ""
dlv_config:
  enabled: true
  port: 2345
  args: ""

# 本地組件列表
components:
  api-service:
    name: "API 服務"
    local_binary: "./bin/api"
    target_service: "api"
    container_binary_path: "/app/api"
    debugger_port: 2345
    extra_ports:
      - 8080

  worker-service:
    name: "Worker"
    local_binary: "./bin/worker"
    target_service: "worker"
    debugger_port: 2346
    dlv_config:
      enabled: true
      port: 4000

# 主機列表（支援 remote 或 local）
hosts:
  dev-server:
    name: "開發伺服器"
    mode: "remote"
    host: "192.168.1.100"
    port: 22
    user: "developer"
    password: "your-password"      # 或改為 key_file
    remote_work_dir: "/tmp/dev-binaries"
    remote_binary_name: "service"
    use_sudo: false
    docker_command: "docker"
    docker_compose_command: "docker compose"
    projects:
      microservices:
        name: "Compose 專案"
        type: "compose"
        compose_dir: "/opt/microservices/app"

  local-docker:
    name: "本機 Docker"
    mode: "local"
    use_sudo: false
    projects:
      playground:
        type: "compose"
        compose_dir: "./deploy"

#############################################
# 使用說明
# - 執行 `docker-dev-swap --config ./config.yaml`
# - 依序選擇 component → host → project
# - 每台 host 會自動新增名為 "Docker Container" 的 `container` 專案，會以 component 的 `target_service` / `--service` 參數作為容器名稱
#############################################